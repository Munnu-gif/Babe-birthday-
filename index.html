<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday Jana üéÇ</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;900&family=Great+Vibes&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1:#ffd6e7; --bg2:#ff9ccf; --accent:#ff2d9f; --dark:#0b0b0b;
    --glass:rgba(255,255,255,0.08);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:"Poppins",system-ui; background: linear-gradient(135deg,var(--bg1),var(--bg2)); background-size:300% 300%; animation:bgMove 18s linear infinite; overflow-x:hidden; color:#111}
  @keyframes bgMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

  /* Top title */
  .topbar{ position:fixed; top:18px; left:0; right:0; display:flex; justify-content:center; z-index:30; pointer-events:none;}
  .top-title{ pointer-events:auto; background:transparent; padding:6px 12px; border-radius:12px; }
  .top-title h1{ margin:0; font-family:"Great Vibes",cursive; color:#fff; font-size:40px; text-shadow:0 10px 30px rgba(0,0,0,0.25) }

  /* Calendar pinned left */
  .calendar{ position:fixed; top:22px; left:22px; width:220px; padding:16px; border-radius:14px; background:linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06)); backdrop-filter:blur(8px); box-shadow:0 12px 40px rgba(0,0,0,0.25); z-index:28;}
  .calendar h3{ margin:0 0 8px 0; color:#fff; font-weight:800; letter-spacing:0.6px }
  .cal-grid{ display:grid; grid-template-columns: repeat(7, 1fr); gap:6px; }
  .cal-cell{ width:26px; height:26px; display:flex; align-items:center; justify-content:center; font-size:13px; color:#fff; opacity:0.95; background:rgba(255,255,255,0.04); border-radius:6px; }
  .cal-cell.heart{ background:linear-gradient(90deg,#ff7cb6,#ff4da6); box-shadow:0 8px 18px rgba(255,77,166,0.2); position:relative; font-weight:800;}
  .cal-cell.heart::after{ content:"27"; position:absolute; font-size:12px; top:2px; right:4px; color:#fff; font-weight:900; }
  .cal-cell.heart::before{ content:"‚ù§"; position:absolute; left:5px; top:3px; font-size:12px; }

  /* Start screen center */
  #startScreen{ min-height:100vh; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:12px; transition:opacity .6s ease, transform .6s ease; z-index:20; }
  .start-box{ background:rgba(255,255,255,0.06); padding:28px; border-radius:18px; box-shadow:0 18px 50px rgba(0,0,0,0.18); text-align:center; }
  .start-box h2{ margin:0 0 10px 0; color:#fff; font-size:22px }
  input#name{ padding:12px 14px; font-size:16px; border-radius:12px; border:none; outline:none; width:260px }
  button#openBtn{ margin-top:10px; padding:10px 18px; border-radius:999px; border:none; background:linear-gradient(90deg,var(--accent),#ff6fa3); color:#fff; font-weight:800; cursor:pointer; }
  .hint{ color:rgba(255,255,255,0.9); font-size:13px; margin-top:8px }

  /* Main scene layout */
  main#scene{ min-height:100vh; display:none; align-items:center; justify-content:center; padding:140px 24px 80px; position:relative; z-index:10 }
  .stage{ display:flex; gap:40px; align-items:center; justify-content:center; width:100%; max-width:1100px; margin:0 auto; flex-wrap:wrap }

  /* cake column */
  .col{ display:flex; flex-direction:column; align-items:center; gap:12px; }
  .plate{ width:300px; height:22px; border-radius:50px; background:linear-gradient(90deg,#fff6,#fff2); box-shadow:0 12px 30px rgba(0,0,0,0.12)}
  .cake{ width:260px; border-radius:40px; padding:18px; background:linear-gradient(180deg,#ffd6e7,#ff9ccf); box-shadow:0 18px 50px rgba(0,0,0,0.2); position:relative; overflow:visible }
  .layer{ width:100%; height:40px; border-radius:20px; margin:6px 0; box-shadow: inset 0 -8px 14px rgba(0,0,0,0.06) }
  .l1{ background:linear-gradient(90deg,#ffb6d9,#ff9ccf); }
  .l2{ background:linear-gradient(90deg,#ffccd9,#ffbcd3); transform:translateY(-8px) }
  .l3{ background:linear-gradient(90deg,#ffdfe9,#ffcfe0); transform:translateY(-16px) }
  .candle{ position:absolute; top:-48px; left:50%; transform:translateX(-50%); width:14px; height:48px; background:linear-gradient(180deg,#fff,#ffd); border-radius:6px; box-shadow: 0 8px 18px rgba(0,0,0,0.12)}
  .flame{ position:absolute; top:-74px; left:50%; transform:translateX(-50%); font-size:28px; filter:drop-shadow(0 6px 12px rgba(255,160,200,0.3)); animation:f 0.6s infinite alternate; }
  @keyframes f{0%{transform:translateX(-50%) scale(1)}50%{transform:translateX(-50%) scale(1.18)}}

  .cutBtn{ margin-top:6px; padding:10px 18px; border-radius:999px; border:none; background:linear-gradient(90deg,#ff4da6,#ff2d9f); color:#fff; font-weight:800; cursor:pointer; box-shadow:0 12px 30px rgba(255,77,166,0.16) }

  /* pieces animation */
  .pieces{ display:flex; gap:12px; margin-top:12px; opacity:0; transform:translateY(10px); transition:all 600ms ease }
  .piece{ width:86px; height:86px; border-radius:14px; background:linear-gradient(90deg,#fff6,#fff2); display:flex; align-items:center; justify-content:center; font-size:36px; box-shadow:0 12px 40px rgba(0,0,0,0.12) }

  /* card area */
  .card-outer{ width:460px; perspective:1200px; display:flex; align-items:center; justify-content:center; }
  .card{ width:420px; height:220px; border-radius:18px; position:relative; transform-style:preserve-3d; transition: transform 900ms cubic-bezier(.2,.9,.25,1); box-shadow:0 20px 60px rgba(0,0,0,0.25) }
  .front,.back{ position:absolute; inset:0; border-radius:18px; backface-visibility:hidden; display:flex; align-items:center; justify-content:center; padding:18px; box-sizing:border-box }
  .front{ background:var(--dark); color:#fff; font-weight:900; font-size:26px; text-transform:uppercase; letter-spacing:1px; text-align:center }
  .back{ transform:rotateY(180deg); background:linear-gradient(180deg,#fff6f9,#ffeff6); color:#111; text-align:left; padding:22px; line-height:1.5; font-weight:500 }
  .card.flipped{ transform:rotateY(180deg) }

  /* close control: appears on back inside top-right */
  .close-btn{ position:absolute; top:12px; right:12px; background:rgba(0,0,0,0.18); color:white; border:none; border-radius:8px; padding:6px 8px; cursor:pointer; z-index:40 }

  /* wish center */
  .wish-center{ display:flex; flex-direction:column; align-items:center; gap:10px; margin-top:10px; }
  .wish-btn{ padding:12px 18px; border-radius:12px; border:none; background:linear-gradient(90deg,#ff6fa3,#ff2d9f); color:#fff; font-weight:800; cursor:pointer; box-shadow:0 12px 30px rgba(255,77,166,0.16) }
  .wish-text{ font-size:18px; color:#111; background:linear-gradient(90deg,#fff 40%, #ffd6e7 100%); -webkit-background-clip:text; background-clip:text; color:transparent; font-weight:800; opacity:0; transform:translateY(10px); transition:all 600ms ease }

  .wish-text.show{ opacity:1; transform:translateY(0) }

  .ending{ margin-top:18px; font-size:28px; font-weight:900; color:#fff; display:none; text-shadow:0 12px 40px rgba(0,0,0,0.22) }

  /* teddy */
  .teddy{ position:fixed; right:18px; bottom:18px; width:110px; height:110px; z-index:35; border-radius:14px; box-shadow:0 12px 40px rgba(0,0,0,0.25); background:#fff; display:flex; align-items:center; justify-content:center; overflow:hidden }

  /* helpers */
  .hidden{ display:none !important }
  .center-inline{ display:flex; align-items:center; justify-content:center }

  /* responsive */
  @media (max-width:900px){
    .stage{ flex-direction:column; gap:22px }
    .calendar{ left:12px; width:180px }
    .card{ width:88%; height:260px }
    .front{ font-size:20px }
  }
</style>
</head>
<body>

  <!-- Top title -->
  <div class="topbar"><div class="top-title"><h1>Happy Birthday Meri Sehzadii Ji ‚ú®</h1></div></div>

  <!-- Calendar pinned -->
  <div class="calendar" aria-hidden="false">
    <h3>September 2025</h3>
    <div class="cal-grid">
      <!-- simplified static grid - heart on 27 -->
      <div class="cal-cell"></div><div class="cal-cell">1</div><div class="cal-cell">2</div><div class="cal-cell">3</div>
      <div class="cal-cell">4</div><div class="cal-cell">5</div><div class="cal-cell">6</div>
      <div class="cal-cell">7</div><div class="cal-cell">8</div><div class="cal-cell">9</div><div class="cal-cell">10</div>
      <div class="cal-cell">11</div><div class="cal-cell">12</div><div class="cal-cell">13</div><div class="cal-cell">14</div>
      <div class="cal-cell">15</div><div class="cal-cell">16</div><div class="cal-cell">17</div><div class="cal-cell">18</div>
      <div class="cal-cell">19</div><div class="cal-cell">20</div><div class="cal-cell">21</div><div class="cal-cell">22</div>
      <div class="cal-cell">23</div><div class="cal-cell">24</div><div class="cal-cell">25</div><div class="cal-cell">26</div>
      <div class="cal-cell heart" title="27 Sept - Special"></div>
      <div class="cal-cell">28</div><div class="cal-cell">29</div><div class="cal-cell">30</div>
    </div>
  </div>

  <!-- Start screen -->
  <section id="startScreen" class="center-block">
    <div class="start-box center-inline" style="flex-direction:column">
      <h2>Enter Her Name to Unlock üéÅ</h2>
      <input id="name" placeholder="Type her name..." aria-label="name">
      <button id="openBtn">Open Surprise</button>
      <div class="hint">Type <strong>Miss</strong> to unlock üíñ</div>
    </div>
  </section>

  <!-- Main scene -->
  <main id="scene">
    <div class="stage">

      <!-- cake column -->
      <div class="col center-inline">
        <div class="plate"></div>
        <div class="cake" id="cakeArea" aria-hidden="false">
          <div class="candle"></div>
          <div class="flame">üî•</div>
          <div class="layer l1"></div>
          <div class="layer l2"></div>
          <div class="layer l3"></div>
        </div>
        <button id="cutBtn" class="cutBtn">Tap / Cut Cake üéÇ</button>
        <div class="pieces" id="pieces">
          <div class="piece">üç∞</div>
          <div class="piece">üç∞</div>
          <div class="piece">üç∞</div>
        </div>
      </div>

      <!-- DIY card column -->
      <div class="col center-inline" style="align-items:center">
        <div class="card-outer" id="cardArea" style="display:none">
          <div class="card" id="card">
            <div class="front">
              <div>
                <div style="font-size:13px; color:rgba(255,255,255,0.8); letter-spacing:1px;margin-bottom:6px">A little surprise</div>
                <div style="font-family:'Great Vibes',cursive; font-size:34px; letter-spacing:1px">HAPPY BIRTHDAY JANA üíó</div>
              </div>
            </div>
            <div class="back" id="cardBack">
              <button class="close-btn" id="closeCard">‚úñ</button>
              <div style="max-height:160px; overflow:auto; padding-right:6px">
                <p style="font-weight:800; margin:0 0 8px 0">To my dearest Jana,</p>
                <p style="margin:0 0 8px 0; line-height:1.5">
                  Munnu jii, hum aapka birthday saath nahi mana paayenge lekin humari duayein aur pyaar hamesha aapke saath hain. 
                  Har pal khush rahiyega ‚Äî Aapka jeevan pyaar aur kamyabi se bhara rahe. 
                      <3 Jaise raat k pass chand k siwaa kuch nhi hai ..
                             Waise hi humare pass apke siwa kuch nahi .!¬ø
                </p>
                <p style="margin:0 0 8px 0; line-height:1.4;">
                  Hamesha aapka intezaar karenge aur kabhi chodkar nahi jayenge.
                  Take care meri pyaari sehzadi. <br><br> ‚Äî With love, Bandar Khan Ji.
                </p>
                <!-- optional images area; will load only if user uploads images to /images/ folder -->
                <div id="photoStrip" style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- wish center hidden until card closed -->
        <div id="wishBlock" style="display:none; align-items:center;">
          <div class="wish-center">
            <button id="wishBtn" class="wish-btn">My Wish üíå</button>
            <div id="wishText" class="wish-text">Hamesha mere sath rahiye‚Ä¶ chahe jitni bhi mushkilein aaye. Mera intezaar kariyega‚Ä¶ ‚ù§Ô∏è</div>
          </div>
        </div>

        <div id="ending" class="ending">Take care Miss Ji ‚Äî Celebrate & Enjoy Your Day ‚ù£Ô∏è</div>

      </div>

    </div>
  </main>

  <!-- teddy fixed -->
  <div class="teddy" id="teddyWrap" title="A little teddy for Jana">
    <img id="teddyGif" src="https://media.tenor.com/0c6QpN7PxE4AAAAi/teddy-bear-love.gif" alt="teddy" style="width:100%;height:100%;object-fit:cover;border-radius:12px" />
  </div>

<script>
/* --------------- safety and helpers --------------- */
function onImageErrorReplace(el, label){
  if(!el) return;
  el.onerror = null;
  el.style.display='flex';
  el.style.alignItems='center';
  el.style.justifyContent='center';
  el.style.background='#ffe7f3';
  el.innerHTML = label || 'Image';
}

/* --------------- unlock logic --------------- */
const startScreen = document.getElementById('startScreen');
const openBtn = document.getElementById('openBtn');
const nameInput = document.getElementById('name');

const scene = document.getElementById('scene');
openBtn.addEventListener('click', ()=> unlock());
nameInput.addEventListener('keydown', (e)=> { if(e.key==='Enter') unlock(); });

function unlock(){
  const val = (nameInput.value || '').trim().toLowerCase();
  if(val !== 'miss'){
    alert("This surprise is for Miss only üíñ");
    nameInput.focus();
    return;
  }
  // fade out start
  startScreen.style.transition = 'opacity .7s ease, transform .7s ease';
  startScreen.style.opacity = '0';
  startScreen.style.transform = 'scale(.98)';
  setTimeout(()=> startScreen.style.display='none', 720);

  // show main scene after short delay (let fade feel)
  setTimeout(()=> {
    scene.style.display = 'flex';
    // slow reveal of calendar and cake present already (calendar pinned)
    document.getElementById('cakeArea').scrollIntoView({behavior:'smooth', block:'center'});
    // teddy does pop animation
    const t = document.getElementById('teddyWrap');
    t.style.transform='scale(.2)';
    t.style.transition='transform .9s cubic-bezier(.2,.9,.25,1)';
    setTimeout(()=> t.style.transform='scale(1)', 100);
  }, 800);
}

/* --------------- cake cut animation --------------- */
const cutBtn = document.getElementById('cutBtn');
const cake = document.getElementById('cakeArea');
const pieces = document.getElementById('pieces');
const cardArea = document.getElementById('cardArea');
const card = document.getElementById('card');
const cardBack = document.getElementById('cardBack');
const closeCard = document.getElementById('closeCard');
const wishBlock = document.getElementById('wishBlock');
const wishBtn = document.getElementById('wishBtn');
const wishText = document.getElementById('wishText');
const ending = document.getElementById('ending');

cutBtn.addEventListener('click', ()=> {
  cutBtn.disabled = true;
  cutBtn.style.opacity = .7;

  // animate cake subtle tilt -> fade -> show pieces
  cake.style.transition = 'transform 700ms ease, opacity 700ms ease';
  cake.style.transform = 'rotate(-4deg) scale(.98)';
  setTimeout(()=> cake.style.opacity = '0', 600);

  // show pieces after short delay
  setTimeout(()=> {
    pieces.style.opacity = 1;
    pieces.style.transform = 'translateY(0)';
    pieces.style.transition = 'all 600ms ease';
    pieces.style.visibility = 'visible';

    // small sparkle/fireworks bursts
    burst(26);

    // after pieces shown, show card front (centered) with gentle reveal
    setTimeout(()=> {
      pieces.style.opacity = 0;
      pieces.style.visibility = 'hidden';
      cardArea.style.display = 'flex';
      cardArea.scrollIntoView({behavior:'smooth', block:'center'});
      // small pop
      card.style.transform = 'scale(.96)';
      setTimeout(()=> card.style.transform = 'scale(1)', 60);
    }, 1500);

  }, 900);
});

/* fireworks burst helper */
function burst(count){
  for(let i=0;i<count;i++){
    const d = document.createElement('div');
    d.style.position='fixed';
    d.style.left = (10 + Math.random()*80) + 'vw';
    d.style.top = (10 + Math.random()*70) + 'vh';
    d.style.width = '8px';
    d.style.height = '8px';
    d.style.borderRadius = '50%';
    d.style.zIndex = 60;
    d.style.background = `hsl(${Math.random()*360} 90% 60%)`;
    d.style.opacity = 1;
    d.style.transform = 'scale(0.6)';
    d.style.transition = 'all 900ms ease-out';
    document.body.appendChild(d);
    setTimeout(()=> {
      d.style.transform = `translate(${(Math.random()-0.5)*200}px, ${(Math.random()-0.5)*200}px) scale(1.6)`;
      d.style.opacity = 0;
    }, 20 + Math.random()*60);
    setTimeout(()=> d.remove(), 1200);
  }
}

/* card flip and close logic */
card.addEventListener('click', (e)=>{
  // if click on close button, ignore flip (close handles)
  if(e.target && e.target.id === 'closeCard') return;
  card.classList.toggle('flipped');
  // after flip (reveal inside) wait a bit then allow user to close
});

closeCard.addEventListener('click', (e)=>{
  e.stopPropagation();
  // slide the whole cardArea to right (not just hide) to mimic "move aside"
  cardArea.style.transition = 'transform 700ms ease, opacity 700ms ease';
  cardArea.style.transform = 'translateX(120%) scale(.96)';
  cardArea.style.opacity = 0;
  setTimeout(()=> {
    cardArea.style.display = 'none';
    // show wish button center after small delay so feeling stays
    setTimeout(()=> {
      wishBlock.style.display = 'flex';
      wishBlock.scrollIntoView({behavior:'smooth', block:'center'});
    }, 300);
  }, 720);
});

/* wish */
wishBtn.addEventListener('click', ()=>{
  wishText.classList.add('show');
  burst(18);
  setTimeout(()=> {
    // hide wish block and show final ending message
    wishBlock.style.display = 'none';
    ending.style.display = 'block';
    ending.scrollIntoView({behavior:'smooth', block:'center'});
  }, 2200);
});

/* teddy fallback (if GIF fails) */
const teddy = document.getElementById('teddyGif');
teddy.addEventListener('error', ()=> {
  const wrap = document.getElementById('teddyWrap');
  wrap.innerHTML = '<div style="padding:12px; text-align:center; font-weight:800; color:#ff4da6">üêª</div>';
});

/* optional: load user photos into card if uploaded to images/pic1.jpg etc */
(function loadUserPhotos(){
  const strip = document.getElementById('photoStrip');
  const names = ['pic1.jpg','pic2.jpg','pic3.jpg']; // if user uploads to /images/ these will show
  names.forEach(n=>{
    const img = document.createElement('img');
    img.src = 'images/' + n;
    img.alt = n;
    img.style.width = '90px';
    img.style.height = '90px';
    img.style.objectFit = 'cover';
    img.style.borderRadius = '8px';
    img.style.boxShadow = '0 8px 20px rgba(0,0,0,0.12)';
    img.onerror = ()=> { img.remove(); }; // silently remove if not present
    strip.appendChild(img);
  });
})();

/* ensure page focuses input initially */
window.addEventListener('load', ()=> name.focus && name.focus());
</script>
</body>
</html>
